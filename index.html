<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POOKIE'S B-DAY BOX</title>
    <style>
        :root {
            --bg: #ffdef2; 
            --accent: #ff85a1; 
            --white: #ffffff;
        }

        body {
            background-color: var(--bg);
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            transition: background-color 0.5s ease;
        }

        .music-ctrl {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--white);
            border: 2px solid var(--accent);
            border-radius: 50px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.8rem;
            z-index: 100;
        }

        .container { text-align: center; z-index: 10; }

        /* The Gift Box Styling */
        .gift-container {
            margin-bottom: 50px;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .gift-container:active { transform: scale(0.9); }

        .gift-box {
            font-size: 80px;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.1));
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Aura Ball Styling */
        .eight-ball {
            width: 220px;
            height: 220px;
            background: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 6px solid var(--accent);
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(255, 133, 161, 0.2);
            margin: 20px auto;
        }

        .window {
            width: 110px;
            height: 110px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            text-align: center;
        }

        #fortune-text { color: white; font-size: 0.75rem; font-weight: bold; text-transform: uppercase; }

        /* Random Pop-up Messages */
        .popup-msg {
            position: absolute;
            background: var(--white);
            color: var(--accent);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            pointer-events: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 50;
            animation: popOut 1.5s ease-out forwards;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        @keyframes popOut {
            0% { transform: scale(0) rotate(-10deg); opacity: 0; }
            20% { transform: scale(1.1) rotate(5deg); opacity: 1; }
            100% { transform: scale(1) translateY(-50px); opacity: 0; }
        }

        .heart {
            position: absolute;
            pointer-events: none;
            z-index: 1;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        .shake { animation: shake 0.4s ease; }
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }
    </style>
</head>
<body>

    <button class="music-ctrl" onclick="toggleMusic()">
        <span id="music-icon">üîá</span> <span id="music-status">OFF</span>
    </button>

    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <div class="gift-container" onclick="unboxGift()">
            <div class="gift-box" id="gift">üéÅ</div>
            <p style="color: var(--accent); font-weight: bold; font-size: 0.8rem;">TAP TO UNBOX</p>
        </div>

        <div class="eight-ball" id="ball" onclick="handleFortune()">
            <div class="window">
                <div id="fortune-text">TAP FOR<br>AURA</div>
            </div>
        </div>
        <p style="color: var(--accent); font-weight: bold; font-size: 0.8rem;">B-DAY AURA BALL</p>
    </div>

    <script>
        const audio = document.getElementById('bg-music');
        let tapCount = 0;

        const popMessages = [
            { t: "You're so loved!", i: "üíñ" },
            { t: "Bestie energy!", i: "üå∏" },
            { t: "Main Character vibes!", i: "‚ú®" },
            { t: "Literally iconic!", i: "üéÄ" },
            { t: "Eat it up!", i: "üç∞" },
            { t: "Looking cute today!", i: "‚òÅÔ∏è" },
            { t: "Stay golden!", i: "üåü" },
            { t: "Pookie status!", i: "üêæ" }
        ];

        const fortunes = ["YOU‚ÄôRE LITERALLY POOKIE", "BESTIE, 100% YES!", "MANIFESTING PINK SKIES", "U HAVE THE BEST AURA", "10/10 WOULD RECOMMEND", "YOU‚ÄôRE SO MAIN CHARACTER", "IT‚ÄôS A BIG YES FROM ME", "SENDING U A DIGITAL HUG", "STAY GOLDEN, BESTIE", "U DESERVE THE WORLD", "B-DAY MAGIC IS REAL", "PROTECT THIS VIBE"];

        function toggleMusic() {
            if (audio.paused) { audio.play(); updateMusicUI(true); } 
            else { audio.pause(); updateMusicUI(false); }
        }

        function updateMusicUI(isPlaying) {
            document.getElementById('music-icon').innerText = isPlaying ? "üîä" : "üîá";
            document.getElementById('music-status').innerText = isPlaying ? "ON" : "OFF";
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = ['üíñ', 'üå∏', '‚ú®', '‚òÅÔ∏è', 'üéÄ'][Math.floor(Math.random() * 5)];
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.top = "-5vh";
            heart.style.animationDuration = (Math.random() * 2 + 3) + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }

        function unboxGift() {
            if (audio.paused && audio.currentTime === 0) toggleMusic();
            tapCount++;
            
            // Create random popup
            const msgObj = popMessages[Math.floor(Math.random() * popMessages.length)];
            const popup = document.createElement('div');
            popup.className = 'popup-msg';
            popup.innerHTML = `<span>${msgObj.i}</span> ${msgObj.t}`;
            popup.style.left = Math.random() * 60 + 20 + "vw";
            popup.style.top = Math.random() * 60 + 20 + "vh";
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 1500);

            // Burst effect on milestone
            if (tapCount % 5 === 0) {
                for(let i=0; i<20; i++) setTimeout(createHeart, i * 50);
            }

            if (tapCount === 15) {
                document.getElementById('gift').innerText = "üéÇ";
                alert("SURPRISE! Happy Birthday Pookie! You've unlocked the ultimate b-day aura! üéâ");
            }
        }

        function handleFortune() {
            if (audio.paused && audio.currentTime === 0) toggleMusic();
            const ball = document.getElementById('ball');
            const text = document.getElementById('fortune-text');
            ball.classList.add('shake');
            text.style.opacity = "0";
            for(let i=0; i<30; i++) setTimeout(createHeart, i * 50);
            setTimeout(() => {
                ball.classList.remove('shake');
                text.innerText = fortunes[Math.floor(Math.random() * fortunes.length)];
                text.style.opacity = "1";
            }, 600);
        }
    </script>
</body>
</html>
